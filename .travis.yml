language: node_js
node_js:
- '6'
sudo: false
dist: trusty
env:
  - CXX=g++-4.8
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.8
    - g++-4.8
cache:
  directories:
  - node_modules
before_install:
- npm config set spin false
- npm install -g npm@4
- npm --version
- npm install -g greenkeeper-lockfile@1
- npm install -g codecov
install:
- npm install
script:
- sidekick run --ci
- npm run test-ci
- codecov
before_script: greenkeeper-lockfile-update
after_script: greenkeeper-lockfile-upload
notifications:
  webhooks:
    urls:
    - https://webhook.atomist.com/travis
    on_success: always
    on_failure: always
    on_start: always
    on_cancel: always
    on_error: always
  slack:
    rooms:
      secure: T8oTmpIg7H1PvTs8d0eQiAwKxMT/4AhPuulBo6AadFYt+1ZKCYTJzhATW6FLAP+cGKoAyU8XPxiz1AZicTDi7WoC6ZYAgjWFKrMTgY+/aUrSDvj0iaxnx19HceBSSp+KsXaOJ0EJOPrxvd0ntCL3TwYlKWvCWdWJvdJZRRNx3h5xq8nNNQPAuTnUU6zEk9WWsrSndOzRpGHSgdP1e61zLv67TCu8wR4erCl/Kx3kfA0WwgG53GnAdgOIH0Id75elsVdkg1niKYzjmTC9TAwh7L44t6RrtXbGOL2JXU2nGUv8JZ/CSt7BD7fdDSobbQ4FgBqRsBvBVE32MPy3Y19pcOB0ncEajwadnWg8xNCGrMzwLqTDrWK4UdaQsiW6tRMVOlDCYC4elbPGjKamFv9uV5wX9Ts1tIyrtsxtOiGq2Cv1c18FLoUU7PeELWkvSZka1rKTdYXqS0Z2Rz+5UhBSohv3TZYP4uhU63c+nttJBuh375H4nFXQVyFr+OpWYMq1XQ+S8z24jg9rHR/dAXWF+3OPh52YcU5TA0bPI+g+ZA5agNkVrPxRq56r9mExRBcfx3eqYbXU8z+VtBFbuf0dr3tTTIq0M6V0gef3IYiOTbRD/vf8HsOVy/tlMY9QPiOlkeWWozrFdgPTWaNW6a0IKZtFSGppLbeC3Ph2QTanEVE=